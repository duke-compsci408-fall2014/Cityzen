<html ng-app="cityzen">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <title></title>

    <link href="lib/ionic/css/ionic.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">

    <!-- IF using Sass (run gulp sass first), then uncomment below and remove the CSS includes above
    <link href="css/ionic.app.css" rel="stylesheet">
    -->

    <!-- ionic/angularjs js -->
    <script src="lib/ionic/js/ionic.bundle.js"></script>

    <!-- ngcordova -->
    <script src="lib/ngCordova/dist/ng-cordova.js"></script>


    <!-- cordova script (this will be a 404 during development) -->
    <script src="cordova.js"></script>

    <!-- your app's js -->
    <script src="js/app.js"></script>

    <!-- app's services -->
    <script src="js/services/pollService.js"></script>
    <script src="js/services/userService.js"></script>
    <script src="js/services/locationService.js"></script>


    <!-- your app's controllers -->
    <script src="js/controllers/login.js"></script>
    <script src="js/controllers/header.js"></script>
    <script src="js/controllers/polls.js"></script>
    <script src="js/controllers/settings.js"></script>
    <script src="js/controllers/localNotifications.js"></script>



  </head>

  <body>
    <ion-nav-bar class="nav-title-slide-ios7 bar-positive" ng-controller="HeaderCtrl">
      <ion-nav-back-button class="button-icon ion-arrow-left-c">
      </ion-nav-back-button>
    </ion-nav-bar>

    <ion-nav-view animation="slide-left-right"></ion-nav-view>

    <script id="templates/tabs.html" type="text/ng-template">
      <ion-tabs class="tabs-icon-top tabs-positive">


        <ion-tab title="Polls" icon="ion-navicon-round" ui-sref="tabs.polls">
          <ion-nav-view name="polls-tab"></ion-nav-view>
        </ion-tab>

        <ion-tab title="Notifications" icon="ion-ios7-world" ui-sref="tabs.notifications">
          <ion-nav-view name="notifications-tab"></ion-nav-view>
        </ion-tab>

        <ion-tab title="Settings" icon="ion-gear-a" ui-sref="tabs.settings">
          <ion-nav-view name="settings-tab"></ion-nav-view>
        </ion-tab>

        <ion-tab title="About" icon="ion-ios7-information" ui-sref="tabs.about">
          <ion-nav-view name="about-tab"></ion-nav-view>
        </ion-tab>

      </ion-tabs>
    </script>

    <script id="templates/polls.html" type="text/ng-template">
    <ion-view title="Polls">
      <ion-content>
        <div class="bar bar-header item-input-inset">
          <label class="item-input-wrapper">
            <i class="icon ion-ios7-search placeholder-icon"></i>
            <input type="search" placeholder="Search" ng-model="searchText">
          </label>
          <button class="button button-clear">
          Cancel
          </button>
        </div>
        <div> 
        </div>
        <div class="list">
            <a ng-repeat="poll in polls | filter:searchText" class="item item-thumbnail-left" href="{{poll.trackback}}">
              <img src="http://www.cityzenapp.us/core/poll/poll_{{poll.id}}.png">
              <h2> {{poll.name}} </h2>
              <p> {{poll.description}}</p>
            </a>
        </div>
      </ion-content>
    </ion-view>

    </script>

    <script id="templates/home.html" type="text/ng-template">
      <ion-view title="Home">
        <ion-content class="padding">
          <p>Example of Ionic tabs. Navigate to each tab, and
          navigate to child views of each tab and notice how
          each tab has its own navigation history.</p>
          <p>
            <a class="button icon icon-right ion-chevron-right" href="#/tab/facts">Scientific Facts</a>
          </p>
        </ion-content>
      </ion-view>
    </script>

    <!-- here for inspiration script id="templates/facts.html" type="text/ng-template">
      <ion-view title="Facts">
        <ion-content class="padding">
          <p>Banging your head against a wall uses 150 calories an hour.</p>
          <p>Dogs have four toes on their hind feet, and five on their front feet.</p>
          <p>The ant can lift 50 times its own weight, can pull 30 times its own weight and always falls over on its right side when intoxicated.</p>
          <p>A cockroach will live nine days without its head, before it starves to death.</p>
          <p>Polar bears are left handed.</p>
          <p>
            <a class="button icon ion-home" href="#/tab/home"> Home</a>
            <a class="button icon icon-right ion-chevron-right" href="#/tab/facts2">More Facts</a>
          </p>
        </ion-content>
      </ion-view>
    </script-->

    <!--here for inspiration script id="templates/facts2.html" type="text/ng-template">
      <ion-view title="Also Factual">
        <ion-content class="padding">
          <p>111,111,111 x 111,111,111 = 12,345,678,987,654,321</p>
          <p>1 in every 4 Americans has appeared on T.V.</p>
          <p>11% of the world is left-handed.</p>
          <p>1 in 8 Americans has worked at a McDonalds restaurant.</p>
          <p>$283,200 is the absolute highest amount of money you can win on Jeopardy.</p>
          <p>101 Dalmatians, Peter Pan, Lady and the Tramp, and Mulan are the only Disney cartoons where both parents are present and dont die throughout the movie.</p>
          <p>
            <a class="button icon ion-home" href="#/tab/home"> Home</a>
            <a class="button icon ion-chevron-left" href="#/tab/facts"> Scientific Facts</a>
          </p>
        </ion-content>
      </ion-view>
    </script-->

    <script id="templates/about.html" type="text/ng-template">
      <ion-view title="About">
        <ion-content class="padding">
          <img src="http://cityzenapp.us/wp-content/uploads/2014/05/CityzenHalf_retina.png">
          <h3>We believe in giving everyone a voice, where they are.</h3>
          <p>Free and open source, Ionic offers a library of mobile-optimized HTML, CSS and JS components for building highly interactive apps.</p>
          <p>Built with Sass and optimized for AngularJS.</p>
          <button ng-click="addNotification('Cityzen -- Your City is Calling','Raleigh seeking to improve the city\'s Southern Gateway along South Saunders Street.')">Click me</button>
          
        </ion-content>
      </ion-view>
    </script>

    <script id="templates/notifications.html" type="text/ng-template">
      <ion-view title="Notifications">
        <ion-content>
          <div class="list">
            <div class="card">
              <div class="item item-text-wrap">
                Project "Project Name" is happening in your location!
              </div>
            </div>
            <div class="card">
              <div class="item item-text-wrap">
              Project "Project Name" that you voted for has been approved. <a href="#">See the results.</a>
              </div>
            </div>
            <div class="card">
              <div class="item item-text-wrap">
              A new project of the category "Roads" is underway. 
              </div>
            </div>
            <div class="card">
              <div class="item item-text-wrap">
              Project "Project Name" is happening in your location. 
              </div>
            </div>
          </div>
        </ion-content>
      </ion-view>
    </script>



    <script id="templates/notification_categories.html" type="text/ng-template">
      <ion-view title="Categories">
        <ion-content>
          <ul class="list">
            <li ng-repeat="category in settings.notifications.categories" class="item item-checkbox" ng-click="toggleCategory(category.id)">
               <label class="checkbox">
                 <input type="checkbox" ng-checked="category.selected">
               </label>
               {{category.name}}
            </li>
          </ul>
          
        </ion-content>
      </ion-view>
    </script>

    <script id="templates/settings.html" type="text/ng-template">
      <ion-view title="Settings">
        <ion-content>
          <ul class="list">
            <label class="item item-input">
              <span class="input-label">First Name</span>
              <input type="text" ng-model="settings.user.fist_name">
            </label>
            <label class="item item-input">
              <span class="input-label">Last Name</span>
              <input type="text" ng-model="settings.user.last_name">
            </label>
            <label class="item item-input">
              <span class="input-label">Address</span>
              <input type="text" ng-model="settings.user.address">
            </label>
            <li class="item item-toggle">
              Receive Notifications
              <label class="toggle toggle-balanced" ng-click="toggleNotifications()">
                <input type="checkbox" ng-checked="settings.notifications.areOn">
                <div class="track">
                  <div class="handle"></div>
                </div>
              </label>
            </li>
            <span ng-if="settings.notifications.areOn" class="animate-if">
              <li>
                <label class="item item-input item-select">
                  <div class="input-label">
                    Default City
                  </div>
                  <select>
                    <option selected>Raleigh</option>
                    <option>Durham</option>
                    <option>New York</option>
                    <option>San Francisco</option>
                    <option>Boston</option>
                  </select>
                </label>
              </li>
              <a class="item" href="#/tab/settings/categories"> Choose Subscribed Categories 
              </a>
              <li class="item item-toggle">
              Enable Push Notifications
                <label class="toggle toggle-balanced" ng-click="togglePushNotifications()">
                  <input type="checkbox" ng-checked="settings.notifications.pushOn"> 
                  <div class="track">
                   <div class="handle"></div>
                  </div>
                </label>
              </li>
              <li class="item item-toggle">
              Enable Geolocation
                <label class="toggle toggle-balanced" ng-click="toggleGPSNotifications()">
                  <input type="checkbox" ng-checked="settings.notifications.gpsOn">
                  <div class="track">
                   <div class="handle"></div>
                  </div>
                </label>
              </li>
            </span>
          </ul>
          </div>
        </ion-content>
      </ion-view>
    </script>

    <script id="templates/login.html" type="text/ng-template">
      <ion-view title="Login">
        <ion-content>
          <img src="http://cityzenapp.us/wp-content/uploads/2014/05/CityzenHalf_retina.png">
          <div class="list">
            <label class="item item-input">
              <span class="input-label">Username</span>
              <input id="username">
              <input type="text">
            </label>
            <label class="item item-input">
              <span class="input-label">Password</span>
              <input id="password">
              <input type="password">
            </label>
          </div> 
          <div>
            <a href="#/tab/polls" class="button button-full button-balanced" ng-click="login()">
              Login
            </a>
            <button class="button button-block button-stable">
              Register
            </button>
            <hr>
            <button class="button button-block button-positive">
              Connect with Facebook
            </button>
            <button class="button button-block button-assertive">
              Connect with Google+
            </button>
            <button class="button button-block button-calm">
              Connect with Twitter
            </button>
          </div>
        </ion-content>
      </ion-view>
    </script>

  </body>
</html>
